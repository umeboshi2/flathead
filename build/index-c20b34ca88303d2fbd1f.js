webpackJsonp([8],{"2clo":function(e,t,r){var n,o,a,s,i,l,u,c,p,h,f,d,m,g,y=function(e,t){function r(){this.constructor=e}for(var n in t)_.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},_={}.hasOwnProperty;i=r("aGLy"),r("SiCa"),f=r("ytdl"),p=r("OhLM"),u=i.Radio.channel("global"),c=i.Radio.channel("messages"),d=function(){return"Bearer "+localStorage.getItem("auth_token")},g=function(e){return e.setRequestHeader("Authorization",d())},u.reply("main:app:authBeforeSend",function(){return g}),h=function(e){return e=e||{},e.beforeSend=g,e},o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.sync=function(e,r,n){return n=h(n),t.__super__.sync.call(this,e,r,n)},t}(i.Model),m=u.request("main:app:get-pagesize"),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.queryParams={sort:function(){return this.state.sortColumn},direction:function(){return this.state.sortDirection},pageSize:"limit",currentPage:"",offset:function(){return this.state.currentPage*this.state.pageSize}},t.prototype.state={firstPage:0,pageSize:parseInt(m),sortColumn:"id",sortDirection:"asc"},t.prototype.parse=function(e){return this.state.totalRecords=e.total,this.state.totalPages=Math.ceil(e.total/this.state.pageSize),this.state.lastPage=this.state.totalPages-1,t.__super__.parse.call(this,e.items)},t}(p),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.sync=function(e,r,n){return n=h(n),t.__super__.sync.call(this,e,r,n)},t}(l),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.sync=function(e,r,n){return n=h(n),t.__super__.sync.call(this,e,r,n)},t.prototype.parse=function(e){return t.__super__.parse.call(this,e.items)},t}(i.Collection),u.reply("main:app:AuthModel",function(){return o}),u.reply("main:app:AuthCollection",function(){return n}),u.reply("main:app:AuthUnPaginated",function(){return s}),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.url="/auth/refresh",t}(o),u.reply("main:app:AuthRefresh",function(){return a}),u.reply("main:app:refresh-token",function(){var e,t;return e=new a,t=e.fetch(),t.fail(function(){var e;return 401===t.status?window.location.hash="#frontdoor/login":(e="There was a problem refreshing the access token",c.request("warning",e))}),t.done(function(){var t;return t=e.get("token"),f(t),localStorage.setItem("auth_token",t)})}),u.reply("main:app:set-auth-token",function(e){return localStorage.setItem("auth_token",e)}),u.reply("main:app:decode-auth-token",function(){var e;return e=localStorage.getItem("auth_token"),e?f(e):{}}),u.reply("current-user",function(){var e;return e=u.request("main:app:decode-auth-token"),e?new i.Model(e):null}),u.reply("main:app:destroy-auth-token",function(){return localStorage.removeItem("auth_token")}),e.exports={}},"4svf":function(e,t,r){var n,o,a,s,i,l,u,c,p,h,f,d,m,g,y,_,v,b,w,k=function(e,t){function r(){this.constructor=e}for(var n in t)P.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},P={}.hasOwnProperty;o=r("aGLy"),l=r("y11e"),w=r("2mEY"),r("ytdl"),d=r("EarI"),r("SiCa"),c=r("X484"),r("qYnM"),g=r("7YgM"),y=new o.Model(g),s=r("H97n"),i=o.Radio.channel("global"),u=o.Radio.channel("messages"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return k(t,e),t.prototype.template=w.renderable(function(e){return".col-sm-2.col-sm-offset-10",".col-sm-2.col-sm-offset-1",w.div(".col-sm-10.col-sm-offset-1",function(){return w.table(".table",function(){return w.tr(function(){var t,r;return e.remaining>=0?(r=86400,t=Math.floor(e.remaining/r),w.td(t+" days left for "+e.token.name)):w.td("Time expired for "+e.token.name),w.td("Version: "+e.version)})})})}),t}(l.View),m=function(e){var t;return t=new Date,new Date(1e3*e.exp)-t},p=function(){var e,t;return(t=i.request("main:app:decode-auth-token"))?(e=m(t),Math.floor(e/1e3)):0},f=function(){var e,t,r,n,o,a;if(a=i.request("main:app:decode-auth-token"),o=m(a),t=d(s.authToken.refreshInterval),r=s.authToken.refreshIntervalMultiple,e=1e3*(a.exp-a.iat),n=e-r*t,o<n)return i.request("main:app:refresh-token")},h=new c({appConfig:s}),i.request("main:app:route"),h.on("before:start",function(){var e;return e=i.request("main:app:get-theme"),e=e||"vanilla",i.request("main:app:switch-theme",e)}),h.on("start",function(){return setInterval(f,d("10s"))}),v=p(),v<=0&&i.request("main:app:decode-auth-token")&&(u.request("warning","deleting expired access token"),i.request("main:app:destroy-auth-token")),n=i.request("main:app:AuthRefresh"),_=new n,b=_.fetch(),b.fail(function(){return 401===b.status&&(i.request("main:app:destroy-auth-token"),s.needLogin&&(window.location.hash="#frontdoor/login")),h.start({state:{currentUser:null}})}),b.done(function(){var e;return e=_.get("token"),i.request("main:app:set-auth-token",e),h.start({state:{currentUser:i.request("main:app:decode-auth-token")}})}),e.exports=h},"7YgM":function(e,t){e.exports={name:"flathead",version:"0.0.33",description:"web app...",main:"start.js",scripts:{start:"node server.js",test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/umeboshi2/flathead.git"},keywords:["comics","ebay"],author:"Joseph Rawson",license:"UNLICENSED",bugs:{url:"https://github.com/umeboshi2/flathead/issues"},homepage:"https://github.com/umeboshi2/flathead#readme",devDependencies:{"amd-define-factory-patcher-loader":"^1.0.0","applet-bumblr":"github:umeboshi2/applet-bumblr",backbone:"^1.3.3","backbone-validation":"^0.11.5","backbone.marionette":"^3.3.1","backbone.paginator":"^2.0.6","backbone.radio":"^2.0.0",bootstrap:"^3.3.7","bootstrap-fileinput":"^4.4.1","bootstrap-filestyle":"^1.2.1",brace:"^0.10.0","chunk-manifest-webpack-plugin":"^1.1.0","clean-webpack-plugin":"^0.1.16","coffee-loader":"^0.7.3","compression-webpack-plugin":"^0.4.0","css-loader":"^0.28.4",dateformat:"^2.0.0",eslint:"^4.0.0","eslint-plugin-jsx-a11y":"^5.0.3","eslint-plugin-react":"^7.1.0","exports-loader":"^0.6.4","expose-loader":"^0.7.3","extract-text-webpack-plugin":"^2.1.2","file-loader":"^0.11.2",fullcalendar:"^3.4.0",gulp:"^3.9.1","gulp-coffee":"^2.3.4","gulp-compass":"^2.1.0","gulp-concat":"^2.6.1","gulp-nodemon":"^2.2.1","gulp-size":"^2.1.0","gulp-sourcemaps":"^2.6.0","gulp-uglify":"^3.0.0","gulp-util":"^3.0.8",handlebars:"^4.0.10",imagesloaded:"^4.1.3","imports-loader":"^0.7.1",jquery:"^3.2.1","jquery-ui":"^1.12.1","jquery.json-viewer":"^1.1.0","jwt-decode":"^2.2.0",leaflet:"^1.0.3",lovefield:"^2.1.12","marionette.toolkit":"^4.0.0",marked:"^0.3.6","masonry-layout":"^4.2.0",minimist:"^1.2.0",mocha:"^3.4.2","mocha-webpack":"^0.7.0","raw-loader":"^0.5.1","resolve-url-loader":"^2.0.3","sass-loader":"^6.0.6",shelljs:"^0.7.8","soap-everywhere":"^1.0.7","stats-webpack-plugin":"^0.6.0","style-loader":"^0.18.2",tbirds:"^0.3.21","url-loader":"^0.5.9",webpack:"^2.6.1","webpack-dev-middleware":"^1.10.2","webpack-dev-server":"^2.4.5","webpack-manifest-plugin":"^1.1.0","xml2js-parseonly":"github:umeboshi2/node-xml2js"},dependencies:{asyncawait:"^1.0.6",bcryptjs:"^2.4.3",bluebird:"^3.5.0","body-parser":"^1.17.2",bookshelf:"^0.10.3","bookshelf-api":"github:umeboshi2/bookshelf-api","bookshelf-bcrypt":"github:umeboshi2/bookshelf-bcrypt","bookshelf-json-columns":"^2.1.0","coffee-script":"^1.12.6","connect-gzip-static":"^2.0.1","cookie-parser":"^1.4.3",cors:"^2.8.3",express:"^4.15.3","express-http-proxy":"^1.0.3","express-https-redirect":"^1.0.0","express-jwt":"^5.3.0","express-session":"^1.15.3","grant-express":"^3.8.0","js-beautify":"^1.6.14","json-view":"^0.4.0",jsonwebtoken:"^7.4.1",knex:"^0.13.0","lodash.merge":"^4.6.0",morgan:"^1.8.2",ms:"^2.0.0",multer:"^1.3.0","node-gyp":"^3.6.2","node-pre-gyp":"^0.6.36","node-thumbnail":"^0.11.0",papaparse:"^4.3.3",pg:"^6.2.4",qs:"^6.4.0",request:"^2.81.0","serve-favicon":"^2.4.3",sqlite3:"^3.1.8",teacup:"github:umeboshi2/teacup#aria-states-props",underscore:"^1.8.3",uuid:"^3.1.0",yamljs:"^0.3.0"}}},"9w6x":function(e,t){e.exports=function(){return window.scrollTo(0,0)}},ETjO:function(e,t,r){var n,o,a,s,i,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;r("4kSj"),n=r("aGLy"),r("y11e"),r("2mEY"),r("EarI"),a=r("GXmR").ExtraController,s=n.Radio.channel("global"),i=n.Radio.channel("messages"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.defaultColumns=["id","name"],t.prototype.setup_layout_if_needed=function(){return this.mainController.setup_layout_if_needed()},t.prototype.showChildView=function(e,t){return this.mainController.layout.showChildView(e,t)},t.prototype.listItems=function(e){var t,r;return this.setup_layout_if_needed(),t=this.channel.request("db:"+this.modelName+":collection"),r=t.fetch({data:{columns:this.defaultColumns}}),r.done(function(r){return function(){var n;return n=new e({collection:t}),r.showChildView("content",n),r.scroll_top()}}(this)),r.fail(function(e){return function(){return i.request("danger","Failed to get "+e.objName+"s!")}}(this))},t.prototype.addItem=function(e){var t;return this.setup_layout_if_needed(),t=new e,this.showChildView("content",t),this.scroll_top()},t.prototype.viewItem=function(e,t){var r,n;return this.setup_layout_if_needed(),r=this.channel.request("db:"+this.modelName+":get",t),n=r.fetch(),n.done(function(t){return function(){var n;return n=new e({model:r}),t.showChildView("content",n),t.scroll_top()}}(this)),n.fail(function(e){return function(){return i.request("danger","Failed to get "+e.objName+"!")}}(this))},t.prototype.editItem=function(e,t){var r,n;return this.setup_layout_if_needed(),r=this.channel.request("db:"+this.modelName+":get",t),n=r.fetch(),n.done(function(t){return function(){var n;return n=new e({model:r}),t.showChildView("content",n),t.scroll_top()}}(this)),n.fail(function(e){return function(){return i.request("danger","Failed to get "+e.objName+"!")}}(this))},t}(a),s.reply("main:app:CrudController",function(){return o}),e.exports=o},EarI:function(e,t){function r(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*l;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(e){return e>=u?Math.round(e/u)+"d":e>=l?Math.round(e/l)+"h":e>=i?Math.round(e/i)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,u,"day")||a(e,l,"hour")||a(e,i,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,i=60*s,l=60*i,u=24*l,c=365.25*u;e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return r(e);if("number"===a&&!1===isNaN(e))return t.long?o(e):n(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},GPUo:function(e,t,r){var n,o,a,s,i=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;r("4kSj"),s=r("rdLu"),n=r("aGLy"),r("y11e"),o=n.Radio.channel("global"),n.Radio.channel("messages"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.url=function(){return"/assets/documents/"+this.id+".md"},t.prototype.fetch=function(e){return e=s.extend(e||{},{dataType:"text"}),t.__super__.fetch.call(this,e)},t.prototype.parse=function(e){return{content:e}},t}(n.Model),o.reply("main:app:get-document",function(e){return new a({id:e})}),e.exports={StaticDocument:a}},GXmR:function(e,t,r){var n,o,a,s,i,l,u,c,p,h=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},f={}.hasOwnProperty;r("4kSj"),n=r("aGLy"),u=r("y11e"),a=r("iuxk").DefaultAppletLayout,c=r("SiCa"),p=r("9w6x"),i=n.Radio.channel("global"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.init_page=function(){},t.prototype.scroll_top=p,t.prototype.navigate_to_url=c,t}(u.Object),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.layoutClass=a,t.prototype._get_applet=function(){var e;return e=i.request("main:app:object"),e.getView().getRegion("applet")},t.prototype.setup_layout=function(){var e;return this.layout=new this.layoutClass,e=this._get_applet(),e.hasView()&&e.empty(),e.show(this.layout)},t.prototype.setup_layout_if_needed=function(){return void 0===this.layout?this.setup_layout():this.layout.isDestroyed()?this.setup_layout():void 0},t.prototype._get_region=function(e){return this.layout.getRegion(e)},t.prototype._show_view=function(e,t){var r;return r=new e({model:t}),this.layout.showChildView("content",r)},t.prototype._load_view=function(e,t,r){var n;return t.isEmpty()||1===Object.keys(t.attributes).length?(n=t.fetch(),n.done(function(r){return function(){return r._show_view(e,t)}}(this)),n.fail(function(){var e;return e="Failed to load "+r+" data.",MessageChannel.request("danger",e)})):this._show_view(e,t)},t}(o),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.channelName=function(){return this.getOption("channelName")||"global"},t.prototype.initialize=function(e){return this.appletName=e.appletName,this.applet=i.request("main:applet:get-applet",this.appletName),this.mainController=this.applet.router.controller,this.channel=this.getChannel()},t.prototype.setup_layout_if_needed=function(){return this.mainController.setup_layout_if_needed()},t.prototype.showChildView=function(e,t){return this.mainController.layout.showChildView(e,t)},t}(o),e.exports={BaseController:o,MainController:l,ExtraController:s}},H97n:function(e,t,r){var n,o,a,s;n=r("qF/v"),n.userMenuApp=r("TN+8"),n.hasUser=!0,n.appletRoutes.profile="userprofile",n.brand.label="Flathead",n.brand.url="#",n.authToken={},n.authToken.refreshInterval="5m",n.authToken.refreshIntervalMultiple=3,o="http://bulksell.ebay.com/ws/eBayISAPI.dll?FileExchangeUploadForm",a={label:"Misc Applets",menu:[{label:"Themes",url:"#frontdoor/themes"},{label:"Ebcsv",url:"#ebcsv",needUser:!0},{label:"Bumblr",url:"#bumblr"},{label:"Hubby",url:"#hubby"},{label:"Todos",url:"#todos",needUser:!0},{label:"TestUpload",url:"#frontdoor/upload",needUser:!0}]},s={needUser:!0,label:"Sofi",menu:[{label:"Main View",url:"#sofi"},{label:"Database Comics",url:"#sofi/comics"},{label:"Workspaces",url:"#sofi/comics/workspace"},{label:"Upload Comic XML",url:"#sofi/xml/upload"},{label:"Create CSV",url:"#sofi/csv/create"},{label:"List Configs",url:"#sofi/cfg/list"},{label:"List Descriptions",url:"#sofi/dsc/list"}]},n.navbarEntries=[s,{label:"File Exchange",url:o,needUser:!0},a],e.exports=n},OhLM:function(e,t,r){/*
  backbone.paginator
  http://github.com/backbone-paginator/backbone.paginator

  Copyright (c) 2016 Jimmy Yuen Ho Wong and contributors

  @module
  @license MIT
*/
!function(t){e.exports=t(r("rdLu"),r("aGLy"))}(function(e,t){"use strict";function r(t,r){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+r+"` must be a finite integer");return t}function n(e){for(var t,r,n,o,a={},s=decodeURIComponent,i=e.split("&"),l=0,u=i.length;l<u;l++){t=i[l].split("="),r=t[0],n=t[1],null==n&&(n=!0),r=s(r),n=s(n),o=a[r],d(o)?o.push(n):a[r]=o?[o,n]:n}return a}function o(e,t,r){var n=e._events[t];if(n&&n.length){var o=n[n.length-1],a=o.callback;o.callback=function(){try{a.apply(this,arguments),r()}catch(e){throw e}finally{o.callback=a}}}else r()}var a=e.extend,s=e.omit,i=e.clone,l=e.each,u=e.pick,c=e.includes,p=e.isEmpty,h=e.pairs||e.toPairs,f=e.invert,d=e.isArray,m=e.isFunction,g=e.isObject,y=e.keys,_=e.isUndefined,v=Math.ceil,b=Math.floor,w=Math.max,k=t.Collection.prototype,P=/[\s'"]/g,x=/[<>\s'"]/g,C=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){k.constructor.apply(this,arguments),t=t||{};var r=this.mode=t.mode||this.mode||S.mode,n=a({},S.queryParams,this.queryParams,t.queryParams||{});n.directions=a({},S.queryParams.directions,this.queryParams.directions,n.directions),this.queryParams=n;var o=this.state=a({},S.state,this.state,t.state);o.currentPage=null==o.currentPage?o.firstPage:o.currentPage,d(e)||(e=e?[e]:[]),e=e.slice(),"server"==r||null!=o.totalRecords||p(e)||(o.totalRecords=this.length),this.switchMode(r,a({fetch:!1,resetState:!1,models:e},t));var s=t.comparator;if(o.sortKey&&!s&&this.setSorting(o.sortKey,o.order,t),"server"!=r){var l=this.fullCollection;s&&t.full&&(this.comparator=null,l.comparator=s),t.full&&l.sort(),p(e)||this.getPage(o.currentPage)}this._initState=i(this.state)},_makeFullCollection:function(e,r){var n,o,a,s=["url","model","sync","comparator"],i=this.constructor.prototype,l={};for(n=0,o=s.length;n<o;n++)a=s[n],_(i[a])||(l[a]=i[a]);var u=new(t.Collection.extend(l))(e,r);for(n=0,o=s.length;n<o;n++)a=s[n],this[a]!==i[a]&&(u[a]=this[a]);return u},_makeCollectionEventHandler:function(e,t){return function(r,n,s,u){var c=e._handlers;l(y(c),function(r){var n=c[r];e.off(r,n),t.off(r,n)});var p=i(e.state),h=p.firstPage,f=0===h?p.currentPage:p.currentPage-1,d=p.pageSize,m=f*d,g=m+d;if("add"==r){var b,w,k,P,u=u||{};if(s==t)(w=t.indexOf(n))>=m&&w<g&&(P=e,b=k=w-m);else{b=e.indexOf(n),w=m+b,P=t;var k=_(u.at)?w:u.at+m}if(u.onRemove||(++p.totalRecords,delete u.onRemove),e.state=e._checkState(p),P){P.add(n,a({},u,{at:k}));var x=b>=d?n:!_(u.at)&&k<g&&e.length>d?e.at(d):null;x&&o(s,r,function(){e.remove(x,{onAdd:!0})})}u.silent||e.trigger("pageable:state:change",e.state)}if("remove"==r){if(u.onAdd)delete u.onAdd;else{if(--p.totalRecords){var C=p.totalPages=v(p.totalRecords/d);p.lastPage=0===h?C-1:C||h,p.currentPage>C&&(p.currentPage=p.lastPage)}else p.totalRecords=null,p.totalPages=null;e.state=e._checkState(p);var S,R=u.index;s==e?((S=t.at(g))?o(e,r,function(){e.push(S,{onRemove:!0})}):!e.length&&p.totalRecords&&e.reset(t.models.slice(m-d,g-d),a({},u,{parse:!1})),t.remove(n)):R>=m&&R<g&&((S=t.at(g-1))&&o(e,r,function(){e.push(S,{onRemove:!0})}),e.remove(n),!e.length&&p.totalRecords&&e.reset(t.models.slice(m-d,g-d),a({},u,{parse:!1})))}u.silent||e.trigger("pageable:state:change",e.state)}if("reset"==r){if(u=s,(s=n)==e&&null==u.from&&null==u.to){var q=t.models.slice(0,m),I=t.models.slice(m+e.models.length);t.reset(q.concat(e.models).concat(I),u)}else s==t&&((p.totalRecords=t.models.length)||(p.totalRecords=null,p.totalPages=null),"client"==e.mode&&(h=p.lastPage=p.currentPage=p.firstPage,f=0===h?p.currentPage:p.currentPage-1,m=f*d,g=m+d),e.state=e._checkState(p),e.reset(t.models.slice(m,g),a({},u,{parse:!1})));u.silent||e.trigger("pageable:state:change",e.state)}"sort"==r&&(u=s,(s=n)===t&&e.reset(t.models.slice(m,g),a({},u,{parse:!1}))),l(y(c),function(r){var n=c[r];l([e,t],function(e){e.on(r,n);var t=e._events[r]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,n=this.links,o=e.totalRecords,a=e.pageSize,s=e.currentPage,i=e.firstPage,l=e.totalPages;if(null!=o&&null!=a&&null!=s&&null!=i&&("infinite"!=t||n)){if(o=r(o,"totalRecords"),a=r(a,"pageSize"),s=r(s,"currentPage"),i=r(i,"firstPage"),a<1)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=v(o/a),i<0||i>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===i?w(0,l-1):l||i,"infinite"==t){if(!n[s])throw new RangeError("No link found for page "+s)}else if(s<i||l>0&&(i?s>l:s>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(i?"<":"<=")+" totalPages if "+i+"-based. Got "+s+".")}return e},setPageSize:function(e,t){e=r(e,"pageSize"),t=t||{first:!1};var n=this.state,o=v(n.totalRecords/e),i=o?w(n.firstPage,b(o*n.currentPage/n.totalPages)):n.firstPage;return n=this.state=this._checkState(a({},n,{pageSize:e,currentPage:t.first?n.firstPage:i,totalPages:o})),this.getPage(n.currentPage,s(t,["first"]))},switchMode:function(t,r){if(!c(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');r=r||{fetch:!0,resetState:!0};var n=this.state=r.resetState?i(this._initState):this._checkState(a({},this.state));this.mode=t;var o,u=this,p=this.fullCollection,h=this._handlers=this._handlers||{};if("server"==t||p)"server"==t&&p&&(l(y(h),function(e){o=h[e],u.off(e,o),p.off(e,o)}),delete this._handlers,this._fullComparator=p.comparator,delete this.fullCollection);else{p=this._makeFullCollection(r.models||[],r),p.pageableCollection=this,this.fullCollection=p;var f=this._makeCollectionEventHandler(this,p);l(["add","remove","reset","sort"],function(t){h[t]=o=e.bind(f,{},t),u.on(t,o),p.on(t,o)}),p.comparator=this._fullComparator}if("infinite"==t)for(var d=this.links={},m=n.firstPage,g=v(n.totalRecords/n.pageSize),_=0===m?w(0,g-1):g||m,b=n.firstPage;b<=_;b++)d[b]=this.url;else this.links&&delete this.links;return r.silent||this.trigger("pageable:state:change",n),r.fetch?this.fetch(s(r,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var n=this.mode,o=this.fullCollection;t=t||{fetch:!1};var i=this.state,l=i.firstPage,u=i.currentPage,c=i.lastPage,h=i.pageSize,f=e;switch(e){case"first":f=l;break;case"prev":f=u-1;break;case"next":f=u+1;break;case"last":f=c;break;default:f=r(e,"index")}this.state=this._checkState(a({},i,{currentPage:f})),t.silent||this.trigger("pageable:state:change",this.state),t.from=u,t.to=f;var d=(0===l?f:f-1)*h,m=o&&o.length?o.models.slice(d,d+h):[];return"client"!=n&&("infinite"!=n||p(m))||t.fetch?("infinite"==n&&(t.url=this.links[f]),this.fetch(s(t,"fetch"))):(this.reset(m,s(t,"fetch")),this)},getPageByOffset:function(e,t){if(e<0)throw new RangeError("`offset must be > 0`");e=r(e,"offset");var n=b(e/this.state.pageSize);return 0!==this.state.firstPage&&n++,n>this.state.lastPage&&(n=this.state.lastPage),this.getPage(n,t)},sync:function(e,r,n){var o=this;if("infinite"==o.mode){var s=n.success,i=o.state.currentPage;n.success=function(e,t,r){var l=o.links,u=o.parseLinks(e,a({xhr:r},n));u.first&&(l[o.state.firstPage]=u.first),u.prev&&(l[i-1]=u.prev),u.next&&(l[i+1]=u.next),s&&s(e,t,r)}}return(k.sync||t.sync).call(o,e,r,n)},parseLinks:function(e,t){var r={},n=t.xhr.getResponseHeader("Link");if(n){var o=["first","prev","next"];l(n.split(","),function(e){var t=e.split(";"),n=t[0].replace(x,""),a=t.slice(1);l(a,function(e){var t=e.split("="),a=t[0].replace(P,""),s=t[1].replace(P,"");"rel"==a&&c(o,s)&&(r[s]=n)})})}return r},parse:function(e,t){var r=this.parseState(e,i(this.queryParams),i(this.state),t);return r&&(this.state=this._checkState(a({},this.state,r)),(t||{}).silent||this.trigger("pageable:state:change",this.state)),this.parseRecords(e,t)},parseState:function(t,r,n,o){if(t&&2===t.length&&g(t[0])&&d(t[1])){var a=i(n),u=t[0];return l(h(s(r,"directions")),function(t){var r=t[0],n=t[1],o=u[n];_(o)||e.isNull(o)||(a[r]=u[n])}),u.order&&(a.order=1*f(r.directions)[u.order]),a}},parseRecords:function(e,t){return e&&2===e.length&&g(e[0])&&d(e[1])?e[1]:e},fetch:function(t){t=t||{};var r=this._checkState(this.state),o=this.mode;"infinite"!=o||t.url||(t.url=this.links[r.currentPage]);var i=t.data||{},c=t.url||this.url||"";m(c)&&(c=c.call(this));var p=c.indexOf("?");-1!=p&&(a(i,n(c.slice(p+1))),c=c.slice(0,p)),t.url=c,t.data=i;var f="client"==this.mode?u(this.queryParams,"sortKey"):s(u(this.queryParams,y(S.queryParams)),"order","directions","totalPages","totalRecords");l(f,function(t,n){t=m(t)?t.call(this):t,null!=r[n]&&null!=t&&e.isUndefined(i[t])&&(i[t]=r[n])},this);var g=m(this.queryParams.sortKey)?this.queryParams.sortKey.call(this):this.queryParams.sortKey,v=m(this.queryParams.order)?this.queryParams.order.call(this):this.queryParams.order;if(null!=g&&null!=r.sortKey&&null!=v&&null!=r.order)if(d(r.order)){i[v]=[];for(var b=0;b<r.order.length;b++)i[v].push(this.queryParams.directions[r.order[b]])}else i[v]=this.queryParams.directions[r.order+""];for(var w=h(s(this.queryParams,y(S.queryParams))),b=0;b<w.length;b++){var P=w[b],x=P[1];x=m(x)?x.call(this):x,null!=x&&(i[P[0]]=x)}if("server"!=o){var C=this,R=this.fullCollection,q=t.success;return t.success=function(e,r,n){n=n||{},_(t.silent)?delete n.silent:n.silent=t.silent;var s=e.models;"client"==o?R.reset(s,n):(R.add(s,a({at:R.length},a(n,{parse:!1}))),C.trigger("reset",C,n)),q&&q(e,r,n)},k.fetch.call(this,a({},t,{silent:!0}))}return k.fetch.call(this,t)},_makeComparator:function(e,t,r){var n=this.state;if(e=e||n.sortKey,t=t||n.order,e&&t)return r||(r=function(e,t){return e.get(t)}),function(n,o){var a,s=r(n,e),i=r(o,e);return 1===t&&(a=s,s=i,i=a),s===i?0:s<i?-1:1}},setSorting:function(e,t,r){var n=this.state;n.sortKey=e,n.order=t=t||n.order;var o=this.fullCollection,s=!1,i=!1;e||(s=i=!0);var l=this.mode;r=a({side:"client"==l?l:"server",full:!0},r);var u=this._makeComparator(e,t,r.sortValue),c=r.full,p=r.side;return"client"==p?c?(o&&(o.comparator=u),s=!0):(this.comparator=u,i=!0):"server"!=p||c||(this.comparator=u),s&&(this.comparator=null),i&&o&&(o.comparator=null),this}}),S=C.prototype;return C})},SiCa:function(e,t,r){var n;n=r("aGLy"),e.exports=function(e){var t;return""===e.split("/")[0]?window.location=e:(t=new n.Router,t.navigate(e,{trigger:!0}))}},Zu8L:function(e,t,r){var n,o,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;n=r("aGLy"),r("y11e"),n.Radio.channel("global"),o=r("l9Gg"),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.onDomRefresh=function(){var e;return e=new o,this.view.showChildView("content",e)},t}(n.Marionette.Behavior),e.exports=a},iuxk:function(e,t,r){var n,o,a,s,i,l,u,c,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=r("aGLy"),r("y11e"),c=r("2mEY"),u=r("EarI"),o=r("Zu8L"),s=r("yk0R"),l=function(e,t,r){return null==e&&(e=3),null==t&&(t="sm"),null==r&&(r="left"),c.renderable(function(){if("left"===r&&c.div("#sidebar.col-"+t+"-"+e+".left-column"),c.div("#main-content.col-"+t+"-"+(12-e)),"right"===r)return c.div("#sidebar.col-"+t+"-"+e+".right-column")})},a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template=l(),t.prototype.regions={sidebar:"#sidebar",content:"#main-content"},t}(n.Marionette.View),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.behaviors={ShowInitialEmptyContent:{behaviorClass:o}},t.prototype.template=c.renderable(function(){return c.div(".col-sm-12",function(){return c.div(".row",function(){return c.div("#main-toolbar.col-sm-8.col-sm-offset-2")}),c.div(".row",function(){return c.div("#main-content.col-sm-10.col-sm-offset-1")})})}),t.prototype.regions=function(){var e;return e=new s({el:"#main-content"}),e.slide_speed=u(".01s"),{content:e,toolbar:"#main-toolbar"}},t}(n.Marionette.View),e.exports={SidebarAppletLayout:a,ToolbarAppletLayout:i}},l9Gg:function(e,t,r){var n,o,a,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;n=r("aGLy"),r("y11e"),a=r("2mEY"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template=a.renderable(function(){return a.div(".jumbotron",function(){return a.h1(function(){return a.text("Loading ..."),a.i(".fa.fa-spinner.fa-spin")})})}),t}(n.Marionette.View),e.exports=o},nwNo:function(e,t){function r(e){this.message=e}function n(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,s=0,i=0,l="";a=t.charAt(i++);~a&&(n=s%4?64*n+a:a,s++%4)?l+=String.fromCharCode(255&n>>(-2*s&6)):0)a=o.indexOf(a);return l}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||n},ozX0:function(e,t,r){function n(e){return decodeURIComponent(o(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}var o=r("nwNo");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return n(t)}catch(e){return o(t)}}},qYnM:function(e,t,r){var n,o,a,s,i,l,u,c,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},h={}.hasOwnProperty;n=r("4kSj"),o=r("aGLy"),l=r("y11e"),r("gNGx"),r("IS1s"),s=r("toVQ"),i=o.Radio.channel("global"),o.Radio.channel("messages"),null===localStorage.getItem("page-size")&&localStorage.setItem("page-size",10),i.reply("main:app:set-pagesize",function(e){return localStorage.setItem("page-size",e)}),i.reply("main:app:get-pagesize",function(){return localStorage.getItem("page-size")}),r("2clo"),r("ETjO"),r("GPUo"),i.reply("main:app:switch-theme",function(e){var t,r;return t="assets/stylesheets/bootstrap-"+e+".css",r=n('head link[href^="assets/stylesheets/bootstrap-"]'),r.attr("href",t)}),i.reply("main:app:set-theme",function(e){return localStorage.setItem("main-theme",e)}),i.reply("main:app:get-theme",function(){return localStorage.getItem("main-theme")}),u=function(e){var t,r,n,o;return r=encodeURIComponent(e.data),o=e.type+","+r,n=e.filename||"exported",t=document.createElement("a"),t.id=e.el_id||"exported-file-anchor",t.href=o,t.download=n,t.innerHTML="Download "+n,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},i.reply("export-to-file",function(e){return u(e)}),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.behaviors=[s],t.prototype.ui={close_btn:"#close-modal div"},t}(l.View),i.reply("main:app:BaseModalView",function(){return a}),c=function(e,t){var r,n;return null==t&&(t=!1),r=i.request("main:app:object"),n=r.getView().getRegion("modal"),n.backdrop=t,n.show(e)},i.reply("show-modal",function(e,t){return null==t&&(t=!1),console.warn("show-modal",t),c(e,!1)}),e.exports={}},toVQ:function(e,t,r){var n,o,a,s=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function r(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=r("4kSj"),r("aGLy"),a=r("y11e"),o=function(e){function t(){return this.keydownHandler=s(this.keydownHandler,this),t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.events={"click @ui.close_btn":"onBeforeDestroy"},t.prototype.keydownHandler=function(e){if(27===e.keyCode)return this.ui.close_btn.children().click(),n("html").unbind("keydown",this.keydownHandler)},t.prototype.onDomRefresh=function(){return n("html").keydown(this.keydownHandler)},t.prototype.onBeforeDestroy=function(){return n("html").unbind("keydown",this.keydownHandler)},t}(a.Behavior),e.exports=o},yk0R:function(e,t,r){var n,o,a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;r("4kSj"),n=r("y11e"),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.attachHtml=function(e){var t;return t=this.slide_speed?this.slide_speed:"fast",this.$el.hide(),this.$el.html(e.el),this.$el.slideDown(t)},t}(n.Region),e.exports=o},ytdl:function(e,t,r){"use strict";function n(e){this.message=e}var o=r("ozX0");n.prototype=new Error,n.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new n("Invalid token specified");t=t||{};var r=!0===t.header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new n("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=n}},["4svf"]);